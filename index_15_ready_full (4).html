
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>StudyGO ã‚¿ã‚¤ãƒ—è¨ºæ–­ï¼ˆ15å•ãƒ»å®Œå…¨ç‰ˆï¼‰</title>
  <style>
    body { font-family: 'Segoe UI', 'ãƒ¡ã‚¤ãƒªã‚ª', sans-serif; background: #f9f9ff; padding: 20px; }
    .question { background: #fff; border-radius: 8px; padding: 16px; box-shadow: 0 0 8px rgba(0,0,0,0.05); margin-bottom: 20px; }
    button { display: block; margin: 8px 0; padding: 10px; border-radius: 6px; background: #f0f0f0; border: 1px solid #ccc; cursor: pointer; }
    button:hover { background: #dde8ff; border-color: #6698ff; }
    #result { font-weight: bold; margin-top: 30px; text-align: center; }
    #result img { margin-top: 20px; width: 80%; max-width: 400px; border-radius: 10px; }
    .note { font-size: 0.9em; color: #666; margin-top: 10px; }
  </style>
</head>
<body>
<h1>ã‚ãªãŸã«æœ€é©ãªå‹‰å¼·å ´æ‰€ã¯ï¼Ÿï¼ˆ15å•ï¼‰</h1>
<div id="quiz"></div>
<div id="result"></div>

<script>
const questions = [
  { text: "ä½œæ¥­æ™‚é–“ã¯ã©ã®ãã‚‰ã„ï¼Ÿ", answers: [
    { text: "1ã€œ2æ™‚é–“", score: { cafe: 1, family: 1 } },
    { text: "3ã€œ5æ™‚é–“", score: { coworking: 1, toshokan: 1 } },
    { text: "6æ™‚é–“ä»¥ä¸Š", score: { jishushitsu: 1 } }
  ]},
  { text: "é›†ä¸­ã™ã‚‹ã«ã¯ã©ã‚“ãªç’°å¢ƒãŒè‰¯ã„ã§ã™ã‹ï¼Ÿ", answers: [
    { text: "é™ã‹ãªå ´æ‰€ãŒã„ã„", score: { jishushitsu: 1, toshokan: 1 } },
    { text: "å°‘ã—ã–ã‚ã¤ã„ã¦ã„ã‚‹æ–¹ãŒé›†ä¸­ã§ãã‚‹", score: { coworking: 1, cafe: 1 } },
    { text: "ã«ãã‚„ã‹ã§ã‚‚æ°—ã«ãªã‚‰ãªã„", score: { family: 1 } }
  ]},
  { text: "Wi-Fiã‚„é›»æºã¯å¿…è¦ã§ã™ã‹ï¼Ÿ", answers: [
    { text: "å¿…é ˆ", score: { coworking: 1, cafe: 1 } },
    { text: "ã‚ã‚‹ã¨å¬‰ã—ã„", score: { toshokan: 1, family: 1 } },
    { text: "ä¸è¦", score: { jishushitsu: 1 } }
  ]},
  { text: "åˆ©ç”¨ç›®çš„ã¯ï¼Ÿ", answers: [
    { text: "è³‡æ ¼ãƒ»å—é¨“ã®å‹‰å¼·", score: { jishushitsu: 1, toshokan: 1 } },
    { text: "ãƒ‘ã‚½ã‚³ãƒ³ä»•äº‹ãƒ»ãƒªãƒ¢ãƒ¼ãƒˆä¼šè­°", score: { coworking: 1 } },
    { text: "èª­æ›¸ãƒ»è»½ä½œæ¥­ãƒ»è¶£å‘³", score: { cafe: 1, family: 1 } }
  ]},
  { text: "å ´æ‰€ã®ã‚¤ãƒ³ãƒ†ãƒªã‚¢ã¯ï¼Ÿ", answers: [
    { text: "ãŠã—ã‚ƒã‚Œãªé›°å›²æ°—ãŒå¥½ã", score: { cafe: 1, coworking: 1 } },
    { text: "ç„¡æ©Ÿè³ªã§ã‚‚é™ã‹ãªã‚‰OK", score: { jishushitsu: 1, toshokan: 1 } },
    { text: "è½ã¡ç€ã„ãŸç©ºé–“ãŒã„ã„", score: { toshokan: 1 } }
  ]},
  { text: "1æ—¥ã®åˆ©ç”¨æ™‚é–“ã¯ï¼Ÿ", answers: [
    { text: "1ã€œ2æ™‚é–“", score: { cafe: 1, family: 1 } },
    { text: "3ã€œ5æ™‚é–“", score: { coworking: 1, toshokan: 1 } },
    { text: "6æ™‚é–“ä»¥ä¸Š", score: { jishushitsu: 1 } }
  ]},
  { text: "å‘¨å›²ã®ç›®ã¯æ°—ã«ãªã‚Šã¾ã™ã‹ï¼Ÿ", answers: [
    { text: "ä»–äººã«è¦‹ã‚‰ã‚Œã‚‹ã¨é›†ä¸­ã§ãã‚‹", score: { coworking: 1, cafe: 1 } },
    { text: "è¦‹ã‚‰ã‚Œãªã„æ–¹ãŒé›†ä¸­ã§ãã‚‹", score: { jishushitsu: 1, toshokan: 1 } },
    { text: "ã©ã¡ã‚‰ã§ã‚‚å¤§ä¸ˆå¤«", score: { family: 1 } }
  ]},
  { text: "ä½œæ¥­ä¸­ã®é£²é£Ÿã¯ï¼Ÿ", answers: [
    { text: "ã—ã£ã‹ã‚Šé£Ÿäº‹ã‚’å–ã‚ŠãŸã„", score: { family: 1 } },
    { text: "é£²ã¿ç‰©ãƒ»è»½é£Ÿã®ã¿", score: { cafe: 1 } },
    { text: "é£²é£Ÿã—ãªã„", score: { jishushitsu: 1, toshokan: 1 } }
  ]},
  { text: "ã‚¢ã‚¯ã‚»ã‚¹ã®è‰¯ã•ã¯ï¼Ÿ", answers: [
    { text: "é§…è¿‘ãŒçµ¶å¯¾æ¡ä»¶", score: { cafe: 1, family: 1 } },
    { text: "å°‘ã—é ãã¦ã‚‚OK", score: { toshokan: 1, jishushitsu: 1 } },
    { text: "ã©ã¡ã‚‰ã§ã‚‚ã‚ˆã„", score: { coworking: 1 } }
  ]},
  { text: "åˆ©ç”¨é »åº¦ã¯ï¼Ÿ", answers: [
    { text: "æ¯æ—¥ã¾ãŸã¯é€±4ä»¥ä¸Š", score: { jishushitsu: 1, coworking: 1 } },
    { text: "é€±1ã€œ2å›", score: { toshokan: 1, cafe: 1 } },
    { text: "ãŸã¾ã«åˆ©ç”¨", score: { family: 1 } }
  ]},
  { text: "æ–™é‡‘æ„Ÿè¦šã¯ï¼Ÿ", answers: [
    { text: "ç„¡æ–™ãŒç†æƒ³", score: { toshokan: 1 } },
    { text: "500å††ã€œç¨‹åº¦ãªã‚‰å¯", score: { cafe: 1, family: 1 } },
    { text: "1000å††ä»¥ä¸Šã§ã‚‚è¨­å‚™ãŒè‰¯ã‘ã‚Œã°", score: { jishushitsu: 1, coworking: 1 } }
  ]},
  { text: "ä¼‘æ†©ã‚¹ã‚¿ã‚¤ãƒ«ã¯ï¼Ÿ", answers: [
    { text: "é£Ÿäº‹ãƒ»é£²ã¿ç‰©ãŒé‡è¦", score: { family: 1 } },
    { text: "è»½ããƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã§ãã‚Œã°OK", score: { cafe: 1 } },
    { text: "é›†ä¸­ã—ãã£ã¦ä¸€æ°—ã«çµ‚ã‚ã‚‰ã›ãŸã„", score: { jishushitsu: 1, toshokan: 1 } }
  ]},
  { text: "ç¶™ç¶šã—ã‚„ã™ã•ã¯ï¼Ÿ", answers: [
    { text: "ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³åˆ©ç”¨ã—ãŸã„", score: { jishushitsu: 1, coworking: 1 } },
    { text: "è‡ªç”±ã«ãã®æ—¥æ¬¡ç¬¬ã§æ±ºã‚ãŸã„", score: { cafe: 1, family: 1 } },
    { text: "è¡Œã‘ã‚‹æ™‚ã ã‘ä½¿ã„ãŸã„", score: { toshokan: 1 } }
  ]},
  { text: "æ°—åˆ†è»¢æ›ã¯ï¼Ÿ", answers: [
    { text: "ãŠåº—ã®é›°å›²æ°—ã‚’å¤‰ãˆã‚‹", score: { cafe: 1 } },
    { text: "èª°ã‹ã¨è©±ã™ã“ã¨ã§æ°—åˆ†è»¢æ›", score: { coworking: 1 } },
    { text: "é™ã‹ãªç©ºé–“ã§å†…çœ", score: { jishushitsu: 1, toshokan: 1 } }
  ]},
  { text: "é™ã‹ã™ãã‚‹ã¨â€¦", answers: [
    { text: "é€†ã«çœ ããªã‚‹", score: { family: 1 } },
    { text: "é›†ä¸­ã§ãã‚‹", score: { jishushitsu: 1, toshokan: 1 } },
    { text: "é©åº¦ãªéŸ³ãŒæ¬²ã—ã„", score: { coworking: 1, cafe: 1 } }
  ]}
];

let current = 0;
let score = { jishushitsu: 0, toshokan: 0, coworking: 0, cafe: 0, family: 0 };

const quiz = document.getElementById("quiz");
const result = document.getElementById("result");

function showQuestion() {
  const q = questions[current];
  quiz.innerHTML = `<div class="question"><p><strong>Q${current + 1}.</strong> ${q.text}</p></div>`;
  q.answers.forEach((a) => {
    const btn = document.createElement("button");
    btn.textContent = a.text;
    btn.onclick = () => {
      Object.keys(a.score).forEach(type => score[type] += a.score[type]);
      current++;
      if (current < questions.length) {
        showQuestion();
      } else {
        showResult();
      }
    };
    quiz.appendChild(btn);
  });
}

function showResult() {
  const max = Math.max(...Object.values(score));
  const type = Object.keys(score).find(k => score[k] === max);
  const names = {
    jishushitsu: "æœ‰æ–™è‡ªç¿’å®¤",
    toshokan: "å›³æ›¸é¤¨",
    coworking: "ã‚³ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ã‚¹ãƒšãƒ¼ã‚¹",
    cafe: "ã‚«ãƒ•ã‚§",
    family: "ãƒ•ã‚¡ãƒŸãƒªãƒ¼ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³"
  };
  const images = {
    jishushitsu: "https://source.unsplash.com/featured/?study,desk",
    toshokan: "https://source.unsplash.com/featured/?library,study",
    coworking: "https://source.unsplash.com/featured/?coworking,office",
    cafe: "https://source.unsplash.com/featured/?cafe,coffee",
    family: "https://source.unsplash.com/featured/?diner,restaurant"
  };

  let resultHTML = `<h2>ğŸ¯ ã‚ãªãŸã«æœ€é©ãªã®ã¯ã€${names[type]}ã€‘ã§ã™ï¼</h2>
    <img src="${images[type]}" alt="${names[type]}ã®ã‚¤ãƒ¡ãƒ¼ã‚¸">
    <p><a href="https://studygo.jp" target="_blank">â–¶ æ²è¼‰åº—èˆ—ã‚’è¦‹ã‚‹</a></p>`;

  if (["cafe", "family", "toshokan"].includes(type)) {
    navigator.geolocation.getCurrentPosition(function(pos) {
      const lat = pos.coords.latitude;
      const lng = pos.coords.longitude;
      const query = encodeURIComponent(names[type]);
      const mapURL = `https://www.google.com/maps/search/${query}/@${lat},${lng},15z`;
      result.innerHTML = resultHTML + 
        `<p><a href="${mapURL}" target="_blank">ğŸ“ å‘¨è¾ºã®${names[type]}ã‚’Googleãƒãƒƒãƒ—ã§æ¢ã™</a></p>
         <p class="note">â€» ç¾åœ¨ã€StudyGOã§ã¯å›³æ›¸é¤¨ãƒ»ã‚«ãƒ•ã‚§ãƒ»ãƒ•ã‚¡ãƒŸãƒ¬ã‚¹ã®æ²è¼‰ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚é †æ¬¡æ‹¡å¤§ä¸­ã§ã™ã€‚</p>`;
    }, function() {
      result.innerHTML = resultHTML + 
        `<p>â€» ä½ç½®æƒ…å ±ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸã€‚</p>
         <p class="note">â€» ç¾åœ¨ã€StudyGOã§ã¯å›³æ›¸é¤¨ãƒ»ã‚«ãƒ•ã‚§ãƒ»ãƒ•ã‚¡ãƒŸãƒ¬ã‚¹ã®æ²è¼‰ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚é †æ¬¡æ‹¡å¤§ä¸­ã§ã™ã€‚</p>`;
    });
  } else {
    result.innerHTML = resultHTML;
  }

  quiz.innerHTML = "";
}

showQuestion();
</script>
</body>
</html>
